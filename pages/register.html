<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="../main.css">
    <link rel="stylesheet" href="../assets/css/auth.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Materials/bootstrap.min.css">
    <title>Đăng nhập</title>
</head>
<body>
    <section class="main">
        <div id="registerView" class="main__wrapper ">
            <h2 style="text-align: center;">Đăng kí</h2>
            <form class="needs-validation" id="form-1" class="form" method="GET">
                <div class="form-group">
                  <label for="exampleInputEmail1">Email</label>
                  <input type="email" name="email" class="form-control" id="rEmail" aria-describedby="emailHelp" placeholder="Enter email" required>
                  <div class="error" name="error-email"></div>
                </div>
                <div class="form-group invalid">
                  <label for="exampleInputPassword1">Mật khẩu</label>
                  <input type="password" name="password" class="form-control" id="rPassword" placeholder="Password" required>
                  
                  <div class="error" name="error-password"></div>
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">Nhập lại mật khẩu</label>
                    <input type="password" name="password-confirmation" class="form-control" id="rRePassword" placeholder="Nhập lại mật khẩu" required>
                    
                    <div class="error" name="error-rePassword"></div>
                </div>
                <div ><button type="submit" id="register" class="submit-button"  >Đăng kí</button></div>
                
                <p id="toLogin" class="alt-p"><a href="./login.html">Đã có tài khoản? Đăng nhập</a></p>
                <p id="homeButton2" class="alt-p"><a href="../index.html">Về trang chủ</a></p>
                <div id="result"></div>
              </form>
        </div>
    </section>
</body>
<script>
  function inputIsBlank (string) {
  if (string.trim().length === 0) {
    return true
  }
  return false
}

function inputIsText (number) {
  if (Number.isNaN(number)) {
    return true
  }
  return false
}
</script>
<script>
      document.querySelector('button').addEventListener('click', function(e) {
      e.preventDefault()
      const password = document.getElementById('rPassword').value
      const email = document.getElementById('rEmail').value
      const rePassword = document.getElementById('rRePassword').value
      const regex = /^([a-zA-Z0-9](\.|_)?)+[a-zA-Z0-9]\@[a-zA-Z0-9]+(\.?[a-zA-Z0-9]{2})(\.[a-z]{2,3})$/
      let hasError = false
      
      document.getElementsByName('error-password')[0].innerText = ""
      document.getElementsByName('error-email')[0].innerText = ""
      document.getElementsByName('error-rePassword')[0].innerText = ""
      document.getElementById('result').innerHTML = ""

      if (inputIsBlank(email)) {
        document.getElementsByName('error-email')[0].innerText = "Email không được để trống"
        document.getElementById('rEmail').focus()
        hasError = true
      }

      if (inputIsBlank(password)) {
        document.getElementsByName('error-password')[0].innerText = "Password không được để trống"
        document.getElementById('rPassword').focus()
        hasError = true
      }
      if (inputIsBlank(rePassword)) {
        document.getElementsByName('error-rePassword')[0].innerText = "Password không được để trống"
        document.getElementById('rePassword').focus()
        hasError = true
      }

      if (!regex.test(email)) {
        document.getElementsByName('error-email')[0].innerText = "Email không đúng định dạng"
        document.getElementById('rEmail').focus()
        hasError = true
      }
      
      if(password!== rePassword){
        document.getElementsByName('error-rePassword')[0].innerText = "Password không trùng"
        document.getElementById('rRePassword').focus()
        hasError = true
      }

      if (!hasError) {
        document.getElementById('result').innerHTML = `
        
        Hello ${email} <br/>
        
        
        `
      }
      
    })
</script>
</html>

